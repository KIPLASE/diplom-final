<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üå∏ –¶–≤–µ—Ç–æ—á–Ω—ã–µ –ü—Ä–æ–º–æ–∫–æ–¥—ã - –ì–ª–∞–≤–Ω–∞—è</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/static/css/style.css">
    <style>
        /* –°—Ç–∏–ª–∏ –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π */
        .quick-actions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin: 20px 0;
        }

        .quick-action-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            background: white;
            border: 2px solid {{ colors.lavender }};
            border-radius: 25px;
            text-decoration: none;
            color: #333;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .quick-action-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            border-color: {{ colors.rose }};
            color: {{ colors.rose }};
        }

        .quick-action-btn i {
            font-size: 1.2rem;
        }

        .search-box {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .search-input-group {
            display: flex;
            gap: 10px;
        }

        .search-input {
            flex: 1;
            padding: 12px 20px;
            border: 2px solid {{ colors.lavender }};
            border-radius: 25px;
            font-size: 1rem;
            transition: all 0.3s;
        }

        .search-input:focus {
            outline: none;
            border-color: {{ colors.rose }};
            box-shadow: 0 0 0 3px rgba(255, 105, 180, 0.1);
        }

        .search-btn {
            padding: 12px 25px;
            background: linear-gradient(135deg, {{ colors.rose }}, {{ colors.violet }});
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .search-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(255, 105, 180, 0.3);
        }

        .filter-tags {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 15px;
        }

        .filter-tag {
            padding: 8px 15px;
            background: {{ colors.lavender }};
            border-radius: 20px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .filter-tag:hover {
            background: {{ colors.lilac }};
            transform: translateY(-2px);
        }

        .filter-tag.active {
            background: linear-gradient(135deg, {{ colors.rose }}, {{ colors.violet }});
            color: white;
        }

        .feature-section {
            margin: 40px 0;
        }

        .feature-icon {
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, {{ colors.rose }}, {{ colors.violet }});
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            color: white;
            font-size: 1.8rem;
        }

        .feature-card {
            text-align: center;
            padding: 30px 20px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            height: 100%;
            transition: all 0.3s;
        }

        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
        }
    </style>
</head>
<body>
    <!-- –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è —Å –Ω–æ–≤—ã–º–∏ –∫–Ω–æ–ø–∫–∞–º–∏ -->
    <nav class="navbar navbar-expand-lg navbar-dark" style="background: linear-gradient(135deg, {{ colors.rose }}, {{ colors.violet }});">
        <div class="container">
            <a class="navbar-brand" href="/">
                <i class="fas fa-seedling me-2"></i>–¶–≤–µ—Ç–æ—á–Ω—ã–µ –ü—Ä–æ–º–æ–∫–æ–¥—ã
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="/">
                            <i class="fas fa-home me-1"></i>–ì–ª–∞–≤–Ω–∞—è
                        </a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="searchDropdown" role="button" data-bs-toggle="dropdown">
                            <i class="fas fa-search me-1"></i>–ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä—ã
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="/search">
                                <i class="fas fa-search me-2"></i>–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫
                            </a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><h6 class="dropdown-header">–ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –ø–æ —Ç–∏–ø–∞–º:</h6></li>
                            {% for type_name, emoji in flower_types.items() %}
                            <li>
                                <a class="dropdown-item" href="/search?flower_type={{ type_name }}">
                                    {{ emoji }} {{ type_name }}
                                </a>
                            </li>
                            {% endfor %}
                            <li><hr class="dropdown-divider"></li>
                            <li>
                                <a class="dropdown-item" href="/search?sort_by=discount_high">
                                    <i class="fas fa-percentage me-2"></i>–ë–æ–ª—å—à–∏–µ —Å–∫–∏–¥–∫–∏
                                </a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="/search?sort_by=newest">
                                    <i class="fas fa-clock me-2"></i>–ù–æ–≤—ã–µ –ø—Ä–æ–º–æ–∫–æ–¥—ã
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/rating">
                            <i class="fas fa-trophy me-1"></i>–†–µ–π—Ç–∏–Ω–≥
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/recommendations">
                            <i class="fas fa-lightbulb me-1"></i>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/howto">
                            <i class="fas fa-book me-1"></i>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
                        </a>
                    </li>
                </ul>

                <div class="navbar-nav">
                    {% if username %}
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-bs-toggle="dropdown">
                                <i class="fas fa-user me-1"></i>{{ username }}
                            </a>
                            <ul class="dropdown-menu dropdown-menu-end">
                                <li><a class="dropdown-item" href="/add_promo">
                                    <i class="fas fa-plus-circle me-2"></i>–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥
                                </a></li>
                                <li><a class="dropdown-item" href="/my_promocodes">
                                    <i class="fas fa-tags me-2"></i>–ú–æ–∏ –ø—Ä–æ–º–æ–∫–æ–¥—ã
                                </a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><a class="dropdown-item" href="/about">
                                    <i class="fas fa-info-circle me-2"></i>–û —Å–∞–π—Ç–µ
                                </a></li>
                                <li><a class="dropdown-item" href="/logout">
                                    <i class="fas fa-sign-out-alt me-2"></i>–í—ã–π—Ç–∏
                                </a></li>
                            </ul>
                        </li>
                    {% else %}
                        <li class="nav-item">
                            <a class="nav-link" href="/login">
                                <i class="fas fa-sign-in-alt me-1"></i>–í–æ–π—Ç–∏
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/register">
                                <i class="fas fa-user-plus me-1"></i>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
                            </a>
                        </li>
                    {% endif %}
                </div>
            </div>
        </div>
    </nav>

    <div class="container mt-4">
        <!-- –ü–æ–∏—Å–∫–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π -->
        <div class="search-box">
            <h4><i class="fas fa-search me-2" style="color: {{ colors.rose }};"></i>–ù–∞–π—Ç–∏ –ø—Ä–æ–º–æ–∫–æ–¥—ã</h4>
            <form method="get" action="/search" class="mt-3">
                <div class="search-input-group">
                    <input type="text" name="query" class="search-input"
                           placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥, –º–∞–≥–∞–∑–∏–Ω –∏–ª–∏ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–∞...">
                    <button type="submit" class="search-btn">
                        <i class="fas fa-search me-2"></i>–ù–∞–π—Ç–∏
                    </button>
                </div>

                <div class="filter-tags">
                    <span class="filter-tag" onclick="setSort('newest')">
                        <i class="fas fa-clock"></i> –ù–æ–≤—ã–µ
                    </span>
                    <span class="filter-tag" onclick="setSort('discount_high')">
                        <i class="fas fa-percentage"></i> –ë–æ–ª—å—à–∏–µ —Å–∫–∏–¥–∫–∏
                    </span>
                    <span class="filter-tag" onclick="setSort('popular')">
                        <i class="fas fa-fire"></i> –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ
                    </span>
                    <span class="filter-tag" onclick="window.location.href='/rating'">
                        <i class="fas fa-trophy"></i> –¢–æ–ø –ø—Ä–æ–º–æ–∫–æ–¥—ã
                    </span>
                    {% if username %}
                    <span class="filter-tag" onclick="window.location.href='/recommendations'">
                        <i class="fas fa-lightbulb"></i> –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
                    </span>
                    {% endif %}
                </div>
            </form>
        </div>

        <!-- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
        <div class="quick-actions">
            <a href="/search" class="quick-action-btn">
                <i class="fas fa-search" style="color: {{ colors.rose }};"></i>
                –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫
            </a>
            <a href="/rating" class="quick-action-btn">
                <i class="fas fa-trophy" style="color: {{ colors.sunflower }};"></i>
                –†–µ–π—Ç–∏–Ω–≥ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤
            </a>
            {% if username %}
            <a href="/recommendations" class="quick-action-btn">
                <i class="fas fa-lightbulb" style="color: {{ colors.leaf }};"></i>
                –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
            </a>
            {% endif %}
            <a href="/howto" class="quick-action-btn">
                <i class="fas fa-book" style="color: {{ colors.violet }};"></i>
                –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é
            </a>
            {% if username %}
            <a href="/add_promo" class="quick-action-btn">
                <i class="fas fa-plus-circle" style="color: {{ colors.tulip }};"></i>
                –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥
            </a>
            {% else %}
            <a href="/register" class="quick-action-btn">
                <i class="fas fa-user-plus" style="color: {{ colors.tulip }};"></i>
                –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
            </a>
            {% endif %}
        </div>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç (–ø—Ä–æ–º–æ–∫–æ–¥—ã) -->
        <div class="mt-5">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h2><i class="fas fa-gift me-2" style="color: {{ colors.rose }};"></i>–í—Å–µ –ø—Ä–æ–º–æ–∫–æ–¥—ã</h2>
                <div class="text-muted">
                    <i class="fas fa-info-circle me-1"></i>
                    –í—Å–µ–≥–æ: {{ promocodes|length }} |
                    <a href="/search" class="text-decoration-none" style="color: {{ colors.violet }};">
                        <i class="fas fa-filter me-1"></i>–§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å
                    </a>
                </div>
            </div>

            {% if promocodes %}
                <div class="row">
                    {% for promo in promocodes %}
                    <div class="col-md-6 col-lg-4 mb-4">
                        <div class="promo-card">
                            <div class="promo-emoji">{{ promo.emoji }}</div>

                            <h4>
                                <span class="badge" style="background: {{ colors.rose }}; color: white;">
                                    {{ promo.code }}
                                </span>
                            </h4>

                            <h5><i class="fas fa-store"></i> {{ promo.shop }}</h5>

                            <div class="mb-2">
                                <span class="badge" style="background: {{ colors.sunflower }}; color: #333;">
                                    <i class="fas fa-percentage"></i> {{ promo.discount }}
                                </span>
                                <span class="badge" style="background: {{ colors.leaf }}; color: white;">
                                    {{ promo.flower_type }}
                                </span>
                            </div>

                            {% if promo.description %}
                            <p><i class="fas fa-info-circle"></i> {{ promo.description|truncate(100) }}</p>
                            {% endif %}

                            <div class="d-flex justify-content-between align-items-center mt-3">
                                <div>
                                    <small class="text-muted">
                                        <i class="fas fa-user" style="color: {{ promo.owner_color }}"></i> {{ promo.owner }}<br>
                                        <i class="far fa-clock"></i> {{ promo.created_at }}
                                    </small>
                                </div>

                                <div>
                                    <button class="btn btn-sm copy-btn" data-code="{{ promo.code }}"
                                            style="background: {{ colors.violet }}; color: white;">
                                        <i class="fas fa-copy"></i> –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            {% else %}
                <div class="alert alert-info text-center">
                    <h4><i class="fas fa-info-circle"></i> –ü—Ä–æ–º–æ–∫–æ–¥–æ–≤ –ø–æ–∫–∞ –Ω–µ—Ç</h4>
                    <p>–ë—É–¥—å—Ç–µ –ø–µ—Ä–≤—ã–º, –∫—Ç–æ –¥–æ–±–∞–≤–∏—Ç –ø—Ä–æ–º–æ–∫–æ–¥!</p>
                    {% if not username %}
                    <a href="/register" class="btn" style="background: {{ colors.rose }}; color: white;">
                        <i class="fas fa-user-plus"></i> –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏ –¥–æ–±–∞–≤–∏—Ç—å
                    </a>
                    {% else %}
                    <a href="/add_promo" class="btn" style="background: {{ colors.rose }}; color: white;">
                        <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–≤—ã–π –ø—Ä–æ–º–æ–∫–æ–¥
                    </a>
                    {% endif %}
                </div>
            {% endif %}
        </div>

        <!-- –°–µ–∫—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π —Å–∞–π—Ç–∞ -->
        <div class="feature-section">
            <h3 class="text-center mb-5"><i class="fas fa-star me-2" style="color: {{ colors.sunflower }};"></i>–ß—Ç–æ –≤—ã –º–æ–∂–µ—Ç–µ —Å–¥–µ–ª–∞—Ç—å –Ω–∞ —Å–∞–π—Ç–µ</h3>

            <div class="row">
                <div class="col-md-3 mb-4">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-search"></i>
                        </div>
                        <h5>–£–º–Ω—ã–π –ø–æ–∏—Å–∫</h5>
                        <p>–ù–∞–π–¥–∏—Ç–µ –ø—Ä–æ–º–æ–∫–æ–¥—ã –ø–æ —Ç–∏–ø—É —Ü–≤–µ—Ç–æ–≤, —Ä–∞–∑–º–µ—Ä—É —Å–∫–∏–¥–∫–∏, –º–∞–≥–∞–∑–∏–Ω—É</p>
                        <a href="/search" class="btn btn-sm mt-2" style="background: {{ colors.rose }}; color: white;">
                            –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å
                        </a>
                    </div>
                </div>

                <div class="col-md-3 mb-4">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-trophy"></i>
                        </div>
                        <h5>–†–µ–π—Ç–∏–Ω–≥ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤</h5>
                        <p>–°–º–æ—Ç—Ä–∏—Ç–µ —Å–∞–º—ã–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –∏ –≤–æ—Å—Ç—Ä–µ–±–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–º–æ–∫–æ–¥—ã</p>
                        <a href="/rating" class="btn btn-sm mt-2" style="background: {{ colors.sunflower }}; color: #333;">
                            –°–º–æ—Ç—Ä–µ—Ç—å —Ä–µ–π—Ç–∏–Ω–≥
                        </a>
                    </div>
                </div>

                <div class="col-md-3 mb-4">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-lightbulb"></i>
                        </div>
                        <h5>–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</h5>
                        <p>–ü–æ–ª—É—á–∞–π—Ç–µ –ø—Ä–æ–º–æ–∫–æ–¥—ã, –ø–æ–¥–æ–±—Ä–∞–Ω–Ω—ã–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è –≤–∞—Å</p>
                        <a href="/recommendations" class="btn btn-sm mt-2" style="background: {{ colors.leaf }}; color: white;">
                            –ú–æ–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
                        </a>
                    </div>
                </div>

                <div class="col-md-3 mb-4">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-book"></i>
                        </div>
                        <h5>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é</h5>
                        <p>–£–∑–Ω–∞–π—Ç–µ, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥—ã</p>
                        <a href="/howto" class="btn btn-sm mt-2" style="background: {{ colors.violet }}; color: white;">
                            –ß–∏—Ç–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
        <div class="row mb-5">
            <div class="col-md-4">
                <div class="stats-card">
                    <i class="fas fa-tag fa-2x" style="color: {{ colors.rose }}"></i>
                    <div class="stat-number">{{ stats.total_promos }}</div>
                    <div class="stat-label">–í—Å–µ–≥–æ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤</div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="stats-card">
                    <i class="fas fa-users fa-2x" style="color: {{ colors.lilac }}"></i>
                    <div class="stat-number">{{ stats.active_users }}</div>
                    <div class="stat-label">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="stats-card">
                    <i class="fas fa-quote-right fa-2x" style="color: {{ colors.sunflower }}"></i>
                    <div class="quote-box">
                        <i class="fas fa-quote-left"></i> {{ stats.flower_quotes }} <i class="fas fa-quote-right"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –§—É—Ç–µ—Ä -->
    <footer class="bg-dark text-white py-4 mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h5><i class="fas fa-seedling"></i> –¶–≤–µ—Ç–æ—á–Ω—ã–µ –ü—Ä–æ–º–æ–∫–æ–¥—ã</h5>
                    <p>–≠–∫–æ–Ω–æ–º—å—Ç–µ –Ω–∞ —Ü–≤–µ—Ç–∞—Ö –≤–º–µ—Å—Ç–µ —Å –Ω–∞–º–∏!</p>
                    <div class="d-flex gap-2 mt-3">
                        <a href="/search" class="btn btn-sm" style="background: {{ colors.rose }}; color: white;">
                            <i class="fas fa-search"></i> –ü–æ–∏—Å–∫
                        </a>
                        <a href="/rating" class="btn btn-sm" style="background: {{ colors.sunflower }}; color: #333;">
                            <i class="fas fa-trophy"></i> –†–µ–π—Ç–∏–Ω–≥
                        </a>
                        <a href="/howto" class="btn btn-sm" style="background: {{ colors.leaf }}; color: white;">
                            <i class="fas fa-book"></i> –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
                        </a>
                    </div>
                </div>
                <div class="col-md-6 text-end">
                    <h5>–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏:</h5>
                    <p>
                        <a href="/about" class="text-decoration-none text-white">
                            <i class="fas fa-info-circle"></i> –û —Å–∞–π—Ç–µ
                        </a>
                    </p>
                    <p>
                        {% if username %}
                        <a href="/my_promocodes" class="text-decoration-none text-white">
                            <i class="fas fa-tags"></i> –ú–æ–∏ –ø—Ä–æ–º–æ–∫–æ–¥—ã
                        </a>
                        {% else %}
                        <a href="/register" class="text-decoration-none text-white">
                            <i class="fas fa-user-plus"></i> –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
                        </a>
                        {% endif %}
                    </p>
                </div>
            </div>
            <div class="text-center mt-4 pt-3 border-top border-secondary">
                <small class="text-muted">
                    ¬© 2026 –¶–≤–µ—Ç–æ—á–Ω—ã–µ –ü—Ä–æ–º–æ–∫–æ–¥—ã. –£—á–µ–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç.
                </small>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–∞
        document.querySelectorAll('.copy-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const code = this.getAttribute('data-code');
                navigator.clipboard.writeText(code).then(() => {
                    const original = this.innerHTML;
                    this.innerHTML = '<i class="fas fa-check"></i> –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
                    this.style.background = '#32CD32';

                    setTimeout(() => {
                        this.innerHTML = original;
                        this.style.background = '{{ colors.violet }}';
                    }, 2000);
                });
            });
        });

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
        function setSort(sortType) {
            window.location.href = `/search?sort_by=${sortType}`;
        }

        // –ê–Ω–∏–º–∞—Ü–∏—è –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫
        document.addEventListener('DOMContentLoaded', function() {
            const cards = document.querySelectorAll('.promo-card, .feature-card');
            cards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                card.style.transition = 'all 0.6s ease-out';

                setTimeout(() => {
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 100);
            });
        });
    </script>
</body>
</html>